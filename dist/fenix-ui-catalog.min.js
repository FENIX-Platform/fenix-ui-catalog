define(["jquery","loglevel","underscore","fenix-ui-filter","bootstrap","fenix-ui-bridge","handlebars","moment","amplify-pubsub"],function(t,e,i,o,n,s,a,r,l){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){var o,n;o=[i(5),i(33),i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(32),i(2),i(34),i(35),i(37),i(38),i(39),i(40),i(41),i(36)],n=function(t,e,i,o,n,s,a,r,l,c,d,h,p,u,f,g,m,b){"use strict";function v(e){i.info("FENIX catalog"),i.info(e),t.extend(!0,this,{initial:e},s),this._registerHandlebarsHelpers(),this._parseInput();var o=this._validateInput();return i.info("Catalog has valid input? "+JSON.stringify(o)),o===!0?(this._attach(),this._hideError(),this._setBottomStatus("intro"),this._initVariables(),this._initComponents(),this._bindEventListeners(),this):(i.error("Impossible to create Catalog"),void i.error(o))}console.log(b);var y={CATALOG:"[data-role='catalog']",MENU:"[data-role='menu']",MENU_GROUPS:"[data-role='menu-group']",MENU_ITEMS:"[data-role='menu-item']",FILTER:"[data-role='filter']",SUMMARY:"[data-role='summary']",BOTTOM:"[data-role='bottom']",RESULTS_CONTAINER:"[data-role='results-container']",RESULTS:"[data-role='results']",RESULT:"[data-role='result']",PAGINATION:"[data-role='pagination']",ERROR_CONTAINER:"[data-role='error-container']",ACTIONS:"[data-role='actions']"};return v.prototype.reset=function(){return this._resetResults(),this._hideError(),this.filter&&!t.isFunction(this.filter.clear)?void i.error("Filter.clear is not a fn()"):(this.filter.clear(),void i.info("Catalog reset"))},v.prototype.on=function(t,e,i){var o=i||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:o,callback:e}),this},v.prototype.dispose=function(){this._unbindEventListeners(),this.$el.find(y.RESULTS).bootstrapTable("destroy"),i.info("Catalog disposed successfully")},v.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),i=0,o=this.channels[t].length;i<o;i++){var n=this.channels[t][i];n.callback.apply(n.context,e)}return this},v.prototype._parseInput=function(){this.$el=t(this.initial.el),this.cache="boolean"==typeof this.initial.cache?this.initial.cache:s.cache,this.defaultSelectors=this.initial.defaultSelectors||s.defaultSelectors,this.actions=this.initial.actions||s.actions,this.pluginRegistry=t.extend(!0,{},r,this.initial.pluginRegistry),this.baseFilter=this.initial.baseFilter||s.baseFilter,this.columns=this.initial.columns||s.columns,this.environment=this.initial.environment,this.lang=this.initial.lang||s.lang,this.lang=this.lang.toLowerCase(),this.perPage=this.initial.perPage||s.perPage,this.menuExcludedItems=this.initial.menuExcludedItems||s.menuExcludedItems,this.findServiceParams=this.initial.findServiceParams||s.findServiceParams,this.searchTimeoutInterval=this.initial.searchTimeoutInterval||s.searchTimeoutInterval,this.hideCloseButton="boolean"==typeof this.initial.hideCloseButton?this.initial.hideCloseButton:s.hideCloseButton,this.langFallbackOrder=this.initial.langFallbackOrder||s.langFallbackOrder},v.prototype._validateInput=function(){var e=!0,n=[];return this.id||(window.fx_catalog_id>=0?window.fx_catalog_id++:window.fx_catalog_id=0,this.id="fx-catalog-"+String(window.fx_catalog_id),i.warn("Impossible to find catalog id. Set auto id to: "+this.id)),this.$el||(n.push({code:o.missing_container}),i.warn("Impossible to find filter container")),this.$el=t(this.$el),0===this.$el.length&&(n.push({code:o.missing_container}),i.warn("Impossible to find box container")),n.length>0?n:e},v.prototype._attach=function(){var e=t(l(t.extend(!0,{hideCloseButton:this.hideCloseButton},d)));this.$el.html(e),this.menu=new p({el:this.$el.find(y.MENU),exclude:this.menuExcludedItems,model:a.map(function(t){return t.label=d[t.id]||"Missing label ["+t.id+"]",t})}),i.info("template attached successfully")},v.prototype._initVariables=function(){this.channels={},this.$menu=this.$el.find(y.MENU),this.$items=this.$menu.find(y.MENU_ITEMS),this.current={},this.current.perPage=this.perPage,this.current.page=0,this.actions=this.actions.map(e.bind(function(t){return{label:d["action_"+t]||"Missing action label ["+t+"]",action:t}},this)),this.bridge=new u({environment:this.environment,cache:this.cache}),g.locale(this.lang),this.dateFormat=s.dateFormat,this.searchTimeout=!1},v.prototype._enableMenuItem=function(t){this.menu.enableItem(t)},v.prototype._disableMenuItem=function(t){this.menu.disableItem(t)},v.prototype._bindEventListeners=function(){var o=this;this.$el.find("[data-action='selector']").on("click",function(e){e.preventDefault();var n=t(e.target).data("selector");i.info("Select selector: "+n),o.selectSelector(n),o._hideError()}),this.filter.on("ready",e.bind(function(){i.info("Filter is ready"),this._unlock(),this._refreshResults()},this)),this.filter.on("remove",e.bind(function(t){i.info("Remove from filter: "+t.id),this._enableMenuItem(t.id),this._refreshResults()},this)),this.filter.on("change",function(){o.onFilterChangeEvent()}),m.subscribe(this._getEventName("select"),this,this._onSelectResult),m.subscribe(this._getEventName("download"),this,this._onDownloadResult),m.subscribe(this._getEventName("view"),this,this._onViewResult),m.subscribe(this._getEventName("metadata"),this,this._onMetadataResult)},v.prototype.onFilterChangeEvent=function(){i.info("Change from filter"),this._refreshResults()},v.prototype.selectSelector=function(t){this._disableMenuItem(t),this._addSelector(t)},v.prototype._unlock=function(){},v.prototype._lock=function(){},v.prototype._addSelector=function(t){var e=this._getSelectorConfiguration(t);this.filter.add(e)},v.prototype._getSelectorConfiguration=function(e){if(!this.pluginRegistry.hasOwnProperty(e))return void i.error("Impossible to find selector in registry: "+e);var o={};return o[e]=t.extend(!0,{},this.pluginRegistry[e]),o[e].template||(o[e].template={}),o[e].template.title=d[e]||"Missing title ["+e+"]",t.extend(!0,{},o)},v.prototype._refreshResults=function(){i.info("Refresh catalog results"),this._setBottomStatus("loading"),this.searchTimeout&&(clearTimeout(this.searchTimeout),i.info("Abort search timeout")),this.searchTimeout=window.setTimeout(e.bind(function(){this._prepareSearch()},this),this.searchTimeoutInterval)},v.prototype._prepareSearch=function(){if(this.filter&&!t.isFunction(this.filter.getValues))return void i.error("Filter.getValues is not a fn()");this.current.values=this.filter.getValues(),this.current.filter=t.extend(!0,{},this.baseFilter,this.filter.getValues("catalog"));var e=this._validateQuery();e===!0?(this._search(),this._hideError()):Array.isArray(e)&&e[0]===o.empty_values?this._setBottomStatus("intro"):this._showError(e)},v.prototype._validateQuery=function(){var e=!0,n=[];return t.isEmptyObject(this.current.filter)?(n.push(o.empty_values),i.error(o.empty_values),n):n.length>0?n:e},v.prototype._initComponents=function(){i.info("Filter instantiation"),this.filter=new h({el:y.FILTER,items:this._getDefaultSelectors(),direction:"prepend",cache:this.cache,ensureAtLeast:1,environment:this.environment,common:{template:{hideHeader:!1,hideRemoveButton:!1},selector:{hideFooter:!0}}}),e.each(this.defaultSelectors,e.bind(function(t){this._disableMenuItem(t)},this)),console.log(b),this.$el.find(y.RESULTS).bootstrapTable({pagination:!0,pageSize:this.current.perPage,pageList:[],columns:this._createTableColumnsConfiguration(),onPageChange:e.bind(function(){this._unbindResultsEventListeners(),this._bindResultsEventListeners()},this),onSort:e.bind(function(){window.setTimeout(e.bind(function(){this._unbindResultsEventListeners(),this._bindResultsEventListeners()},this),100)},this)})},v.prototype._createTableColumnsConfiguration=function(){var i=[],o=this;e.each(Object.keys(this.columns),function(t){i.push({field:t,title:d[t]||"Missing label ["+t+"]",sortable:!0})}),i.push({field:"rid",visible:!1});var n=e.findWhere(i,{field:"resourceType"})||{};return n.visible=!1,i.push({formatter:function(e,i){var n=t(c(t.extend(!0,{},d,i,{actions:o._getActions(i)})));return n[0].outerHTML}}),i},v.prototype._getActions=function(t){var i=s.excluded_action||{},o=i[t.resourceType]||[],n=this.actions;return e.each(o,function(t){n=e.reject(n,{action:t})}),n},v.prototype._getDefaultSelectors=function(){var o=this,n={};return e.each(this.defaultSelectors,function(e){n=t.extend(!0,{},n,o._getSelectorConfiguration(e))}),i.info("Default items: "+JSON.stringify(n)),n},v.prototype._resetResults=function(){this._setBottomStatus("intro"),this._unbindResultsEventListeners()},v.prototype._search=function(){var t=this.current.filter;this._lock(),window.fx_req_id>=0?window.fx_req_id++:window.fx_req_id=0,this.reqeust_id="fx-request-id-"+window.fx_req_id,this.bridge.find({body:t,params:this.findServiceParams}).then(e.bind(this._renderResults,this,"fx-request-id-"+window.fx_req_id),e.bind(function(t,e){return this.reqeust_id!==t?void i.warn("Abort result rendering because it is not the last request"):e.status===s.httpStatusMaxSizeError?void this._setBottomStatus("huge"):(this._setBottomStatus("error"),this.error(e),this._unlock(),void this._showError(o.request))},this,"fx-request-id-"+window.fx_req_id))},v.prototype._setBottomStatus=function(t){i.info("Set status to: "+t),this.$el.find(y.BOTTOM).attr("data-status",t)},v.prototype._renderResults=function(t,e){return this.reqeust_id!==t?void i.warn("Abort result rendering because it is not the last request"):(this.current.data=e,this.current.model=this._parseData(this.current.data),this.current.data?(this._setBottomStatus("ready"),this._unlock(),void this._renderTable()):void this._setBottomStatus("empty"))},v.prototype._parseData=function(t){var i=[];return e.each(t,e.bind(function(t){i.push(this._parseRecord(t))},this)),i},v.prototype._parseRecord=function(i){var o={};return e.each(this.columns,e.bind(function(e,n){o[n]=this._getColumnValue(i,t.extend(!0,{id:n},e))},this)),o.rid=this._getColumnValue(i,t.extend(!0,{id:"rid"},{})),o},v.prototype._getColumnValue=function(t,i){var o,n=" ",s=i.path?i.path:i.id,a=this._getNestedProperty(s,t)||{},r=i.type||"";switch(r.toLowerCase()){case"i18n":o=this._getI18nLabel(a),n=o?o:" ";break;case"source":var l=e.findWhere(a,{role:"owner"})||{},c=l.organization,d=l.organizationUnit,h=this._getI18nLabel(c),p=this._getI18nLabel(d),u=h&&p;n+=h?h:"",n+=u?" - ":"",n+=p?p:"";break;case"epoch":n=new g(a).format(this.dateFormat);break;case"code":var f=Array.isArray(a.codes)&&a.codes.length>0?a.codes[0]:{};o=this._getI18nLabel(f.label),n=o?o:" ";break;default:n=a}return n?n:null},v.prototype._renderTable=function(){this._unbindResultsEventListeners(),this.$el.find(y.RESULTS).bootstrapTable("load",this.current.model),this._bindResultsEventListeners()},v.prototype._unbindResultsEventListeners=function(){this.$el.find(y.RESULTS).find("[data-action]").off()},v.prototype._bindResultsEventListeners=function(){var o=this;this.$el.find(y.RESULTS).find("[data-action]").each(function(){var n=t(this),s=n.data("action"),a=o._getEventName(s),r=n.data("rid");n.on("click",{event:a,rid:r,values:o.current.values,filter:o.current.filter},function(t){t.preventDefault(),i.info("Result raise event: "+t.data.event);var n=e.findWhere(o.current.data,{rid:r});m.publish(a,{rid:r,model:n,filter:t.data.filter,values:t.data.values})})})},v.prototype._onSelectResult=function(t){i.info("Select result: "+JSON.stringify(t)),this._trigger("select",t)},v.prototype._onDownloadResult=function(t){i.info("Download result: "+JSON.stringify(t)),this._trigger("download",t)},v.prototype._onViewResult=function(t){i.info("View result: "+JSON.stringify(t)),this._trigger("view",t)},v.prototype._onMetadataResult=function(t){i.info("Metadata result: "+JSON.stringify(t)),this._trigger("metadata",t)},v.prototype._getEventName=function(t,e){var i=n[t]?n[t]:t;return e===!0?i:i+"."+this.id},v.prototype._unbindEventListeners=function(){this.$el.find("[data-action]").off(),m.unsubscribe(this._getEventName("select"),this._onSelectResult),m.unsubscribe(this._getEventName("download"),this._onDownloadResult),m.unsubscribe(this._getEventName("view"),this._onViewResult),m.unsubscribe(this._getEventName("metadata"),this._onMetadataResult)},v.prototype._registerHandlebarsHelpers=function(){f.registerHelper("isOpened",function(t){return t===!0?"in":""})},v.prototype._showError=function(i){Array.isArray(i)||(i=[i]),e.each(i,e.bind(function(e){var i=t("<li>"+d[e]+"</li>");this.$el.find(y.ERROR_CONTAINER).show().html(i)},this))},v.prototype._hideError=function(){this.$el.find(y.ERROR_CONTAINER).hide()},v.prototype._getI18nLabel=function(t){if("object"!=typeof t)return"";var i=this.langFallbackOrder.slice(0),o="Missing label";i.unshift(this.lang),i=e.uniq(i);for(var n=0;n<i.length&&!(o=t[i[n]]);n++);return o},v.prototype._getNestedProperty=function(e,i){for(var i=t.extend(!0,{},i),o=e.split(".");o.length&&(i=i[o.shift()]););return i},v}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i(3),i(4)],n=function(t,e){"use strict";return{en:t,fr:e}}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o;o=function(){"use strict";return{submit_button:"Submit",reset_button:"Reset",resourceType:"Resource Type",referencePeriod:"Reference Period",referenceArea:"Reference Area",dataDomain:"Data Domain",statusOfConfidentiality:"Status of Confidentiality",uid:"Uid",title:"Title",region:"Region",source:"Source",last_update:"Last update",periodicity:"Periodicity",contextSystem:"Data Source",content:"Content",search_by_id:"Search by id",accessibility:"Accessibility",action_select:"Select",action_download:"Download",action_view:"View",action_metadata:"Metadata",request:"Request error",empty_values:"Empty selection",header_title:"Open a resource",tooltip_btn_close_catalog:"Close catalogue",tooltip_btn_add_selector:"Add metadata search field"}}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))},function(t,e,i){var o;o=function(){"use strict";return{submit_button:"[FR] Submit",reset_button:"[FR] Reset",resourceType:"[FR] Resource Type",referencePeriod:"[FR] Reference Period",referenceArea:"[FR] Reference Area",dataDomain:"[FR] Data Domain",statusOfConfidentiality:"[FR] Status of Confidentiality",uid:"[FR] Uid",title:"[FR] Title",region:"[FR] Region",source:"[FR] Source",last_update:"[FR] Last update",periodicity:"[FR] Periodicity",contextSystem:"[FR] Data Source",content:"[FR] Content",search_by_id:"[FR] Search by id",accessibility:"[FR] Accessibility",action_select:"[FR] Select",action_download:"[FR] Download",action_view:"[FR] View",action_metadata:"[FR] Metadata",request:"[FR] Request error",empty_values:"[FR] Empty selection",header_title:"[FR] Open a resource",tooltip_btn_close_catalog:"[FR] Close catalogue",tooltip_btn_add_selector:"[FR] Add metadata search field"}}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){var o;o=function(){"use strict";var t="";return{request:t+"request",empty_values:t+"empty_values",missing_container:t+"missing_container"}}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))},function(t,e,i){var o;o=function(){"use strict";var t="fx.catalog.";return{select:t+"select",view:t+"view",download:t+"download"}}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))},function(t,e,i){var o;o=function(){"use strict";return{lang:"EN",langFallbackOrder:["EN","FR","ES","AR","PR"],perPage:10,actions:["select"],excludedAction:{dataset:[],geographic:["download"]},menuExcludedItems:[],defaultSelectors:["resourceType","contextSystem"],environment:"develop",columns:{title:{path:"title",type:"i18n"},source:{path:"contacts",type:"source"},last_update:{path:"meMaintenance.seUpdate.updateDate",type:"epoch"},region:{path:"meContent.seCoverage.coverageGeographic",type:"code"},resourceType:{path:"meContent.resourceRepresentationType"}},searchTimeoutInterval:1e3,dateFormat:"YYYY MMM DD",findServiceParams:{full:!0,order:"meMaintenance.seUpdate.updateDate:desc"},cache:!1,httpStatusMaxSizeError:416,hideCloseButton:!1,baseFilter:{}}}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))},function(t,e,i){var o;o=function(){"use strict";return[{url:"",parent_id:"root",id:"content"},{url:"",parent_id:"content",id:"resourceType",a_attrs:{"data-action":"selector","data-selector":"resourceType"}},{url:"",parent_id:"content",id:"contextSystem",a_attrs:{"data-action":"selector","data-selector":"contextSystem"}},{url:"",parent_id:"content",id:"referencePeriod",a_attrs:{"data-action":"selector","data-selector":"referencePeriod"}},{url:"",parent_id:"content",id:"referenceArea",a_attrs:{"data-action":"selector","data-selector":"referenceArea"}},{url:"",parent_id:"content",id:"dataDomain",a_attrs:{"data-action":"selector","data-selector":"dataDomain"}},{url:"",parent_id:"content",id:"region",a_attrs:{"data-action":"selector","data-selector":"region"}},{url:"",parent_id:"root",id:"accessibility"},{url:"",parent_id:"accessibility",id:"statusOfConfidentiality",a_attrs:{"data-action":"selector","data-selector":"statusOfConfidentiality"}},{url:"",parent_id:"root",id:"search_by_id"},{url:"",parent_id:"search_by_id",id:"uid",a_attrs:{"data-action":"selector","data-selector":"uid"}}]}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))},function(t,e,i){var o;o=function(){"use strict";return{resourceType:{enumeration:{uid:"RepresentationType"},selector:{id:"dropdown",hideSummary:!0,"default":["dataset"],config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"enumeration",metadataAttribute:"meContent.resourceRepresentationType"}},referencePeriod:{cl:{uid:"FAO_Period",version:"1.0"},selector:{id:"dropdown",hideSummary:!0,config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"codes",metadataAttribute:"meContent.seReferencePopulation.referencePeriod"}},referenceArea:{cl:{uid:"GAUL_ReferenceArea",version:"1.0"},selector:{id:"dropdown",hideSummary:!0,config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"codes",metadataAttribute:"meContent.seReferencePopulation.referenceArea"}},dataDomain:{cl:{uid:"UNECA_ClassificationOfActivities",level:2,levels:1},selector:{id:"dropdown",hideSummary:!0,config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"codes",metadataAttribute:"meContent.seCoverage.coverageSectors"}},region:{cl:{uid:"GAUL0",version:"2014"},selector:{id:"dropdown",hideSummary:!0,config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"codes",metadataAttribute:"meContent.seCoverage.coverageGeographic"}},statusOfConfidentiality:{cl:{uid:"CL_CONF_STATUS",version:"1.0"},selector:{id:"dropdown",hideSummary:!0,config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"codes",metadataAttribute:"meAccessibility.seConfidentiality.confidentialityStatus"}},uid:{selector:{id:"input",type:"text"},template:{hideRemoveButton:!1},format:{output:"enumeration",metadataAttribute:"uid"}},contextSystem:{selector:{id:"dropdown",source:[{value:"uneca",label:"UNECA"}],"default":["uneca"],hideSummary:!0,config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"enumeration",metadataAttribute:"dsd.contextSystem"}}}}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))},function(t,e,i){var o=i(13);t.exports=(o["default"]||o).template({1:function(t,e,i,o,n){var s;return'\r\n            <div class="cat-btn-right" title="'+t.escapeExpression((s=null!=(s=i.tooltip_btn_close_catalog||(null!=e?e.tooltip_btn_close_catalog:e))?s:i.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"tooltip_btn_close_catalog",hash:{},data:n}):s))+'">\r\n                <button data-role="close" data-dismiss="modal" aria-label="Close" class="btn btn-default"\r\n                        type="button">\r\n                    <span class="icojam_button_delete_1"></span>\r\n                </button>\r\n            </div>\r\n'},compiler:[7,">= 4.0.0"],main:function(t,e,i,o,n){var s,a,r=null!=e?e:{},l=i.helperMissing,c="function",d=t.escapeExpression;return'<div data-role="catalog" class="fx-catalog">\r\n\r\n    <div class="modal-header clearfix cat-toolbar">\r\n\r\n        <div class="cat-btn-left">\r\n\r\n        </div>\r\n\r\n        <h6 class="cat-title truncate">'+d((a=null!=(a=i.header_title||(null!=e?e.header_title:e))?a:l,typeof a===c?a.call(r,{name:"header_title",hash:{},data:n}):a))+"</h6>\r\n\r\n"+(null!=(s=i.unless.call(r,null!=e?e.hideCloseButton:e,{name:"unless",hash:{},fn:t.program(1,n,0),inverse:t.noop,data:n}))?s:"")+'\r\n    </div>\r\n\r\n    <div class="modal-body">\r\n        <!-- Filter -->\r\n        <div class="row">\r\n\r\n            <div class="row-height">\r\n\r\n                <div class="col-sm-4 col-sm-height col-top cat-sidebar">\r\n\r\n                    <div data-role="menu" class="dropdown" title="'+d((a=null!=(a=i.tooltip_btn_add_selector||(null!=e?e.tooltip_btn_add_selector:e))?a:l,typeof a===c?a.call(r,{name:"tooltip_btn_add_selector",hash:{},data:n}):a))+'">\r\n                        <button class="btn btn-floating btn-fx-catalog-filters" type="button" data-toggle="dropdown"\r\n                                aria-expanded="false">\r\n                            <span class="icojam_add"></span>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <!-- Filter -->\r\n                    <div data-role="filter" class="cat-filter-container"></div>\r\n\r\n                </div>\r\n\r\n                <div class="col-sm-8 col-sm-height col-top cat-results">\r\n\r\n                    <!-- Bottom -->\r\n\r\n                    <div data-role="bottom" data-status="intro" class="cat-statuses-holder">\r\n\r\n                        <div data-content="error" class="text-center">\r\n\r\n                            <h2>Oh snap!</h2>\r\n\r\n                        </div>\r\n\r\n                        <div data-content="ready">\r\n                            <div data-role="results-container">\r\n                                <table data-role="results"></table>\r\n                            </div>\r\n                            <div data-role="pagination" class="text-center"></div>\r\n                        </div>\r\n\r\n                        <div data-content="loading" class="text-center">\r\n                            <span class="loading loading-48"></span>\r\n                        </div>\r\n\r\n                        <div data-content="empty" class="text-center">\r\n                            <h2>Empty</h2>\r\n                        </div>\r\n\r\n                        <div data-content="intro" class="text-center">\r\n                            <h2>This is the intro</h2>\r\n                        </div>\r\n\r\n                        <div data-content="huge" class="text-center">\r\n                            <h2>Too many results. <br> Please add more filter criteria.</h2>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <!-- Summary -->\r\n        <div class="row">\r\n            <div class="col-xs-12" data-role="summary"></div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n\r\n    <!-- Errors -->\r\n    <div class="row">\r\n        <div class="col-xs-12">\r\n            <ul data-role="error-container" class="alert alert-danger list-unstyled" role="alert"></ul>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},useData:!0})},function(t,e,i){t.exports=i(14)["default"]},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function s(){var t=new r.HandlebarsEnvironment;return u.extend(t,r),t.SafeString=c["default"],t.Exception=h["default"],t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=g,t.template=function(e){return g.template(e,t)},t}e.__esModule=!0;var a=i(15),r=n(a),l=i(29),c=o(l),d=i(17),h=o(d),p=i(16),u=n(p),f=i(30),g=n(f),m=i(31),b=o(m),v=s();v.create=s,b["default"](v),v["default"]=v,e["default"]=v,t.exports=e["default"]},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=n;var s=i(16),a=i(17),r=o(a),l=i(18),c=i(26),d=i(28),h=o(d),p="4.0.5";e.VERSION=p;var u=7;e.COMPILER_REVISION=u;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=f;var g="[object Object]";n.prototype={constructor:n,logger:h["default"],log:h["default"].log,registerHelper:function(t,e){if(s.toString.call(t)===g){if(e)throw new r["default"]("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(s.toString.call(t)===g)s.extend(this.partials,t);else{if("undefined"==typeof e)throw new r["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(s.toString.call(t)===g){if(e)throw new r["default"]("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=h["default"].log;e.log=m,e.createFrame=s.createFrame,e.logger=h["default"]},function(t,e){"use strict";function i(t){return d[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function n(t,e){for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1}function s(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(h,i):t}function a(t){return!t&&0!==t||!(!g(t)||0!==t.length)}function r(t){var e=o({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function c(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=o,e.indexOf=n,e.escapeExpression=s,e.isEmpty=a,e.createFrame=r,e.blockParams=l,e.appendContextPath=c;var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,p=/[&<>"'`=]/,u=Object.prototype.toString;e.toString=u;var f=function(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===u.call(t)}),e.isFunction=f;var g=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===u.call(t)};e.isArray=g},function(t,e){"use strict";function i(t,e){var n=e&&e.loc,s=void 0,a=void 0;n&&(s=n.start.line,a=n.start.column,t+=" - "+s+":"+a);for(var r=Error.prototype.constructor.call(this,t),l=0;l<o.length;l++)this[o[l]]=r[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i),n&&(this.lineNumber=s,this.column=a)}e.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){a["default"](t),l["default"](t),d["default"](t),p["default"](t),f["default"](t),m["default"](t),v["default"](t)}e.__esModule=!0,e.registerDefaultHelpers=n;var s=i(19),a=o(s),r=i(20),l=o(r),c=i(21),d=o(c),h=i(22),p=o(h),u=i(23),f=o(u),g=i(24),m=o(g),b=i(25),v=o(b)},function(t,e,i){"use strict";e.__esModule=!0;var o=i(16);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,i){var n=i.inverse,s=i.fn;if(e===!0)return s(this);if(e===!1||null==e)return n(this);if(o.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):n(this);if(i.data&&i.ids){var a=o.createFrame(i.data);a.contextPath=o.appendContextPath(i.data.contextPath,i.name),i={data:a}}return s(e,i)})},t.exports=e["default"]},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var n=i(16),s=i(17),a=o(s);e["default"]=function(t){t.registerHelper("each",function(t,e){function i(e,i,s){c&&(c.key=e,c.index=i,c.first=0===i,c.last=!!s,d&&(c.contextPath=d+e)),l+=o(t[e],{data:c,blockParams:n.blockParams([t[e],e],[d+e,null])})}if(!e)throw new a["default"]("Must pass iterator to #each");var o=e.fn,s=e.inverse,r=0,l="",c=void 0,d=void 0;if(e.data&&e.ids&&(d=n.appendContextPath(e.data.contextPath,e.ids[0])+"."),n.isFunction(t)&&(t=t.call(this)),e.data&&(c=n.createFrame(e.data)),t&&"object"==typeof t)if(n.isArray(t))for(var h=t.length;r<h;r++)r in t&&i(r,r,r===t.length-1);else{var p=void 0;for(var u in t)t.hasOwnProperty(u)&&(void 0!==p&&i(p,r-1),p=u,r++);void 0!==p&&i(p,r-1,!0)}return 0===r&&(l=s(this)),l})},t.exports=e["default"]},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var n=i(17),s=o(n);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var o=i(16);e["default"]=function(t){t.registerHelper("if",function(t,e){return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],o=0;o<arguments.length-1;o++)e.push(arguments[o]);var n=1;null!=i.hash.level?n=i.hash.level:i.data&&null!=i.data.level&&(n=i.data.level),e[0]=n,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var o=i(16);e["default"]=function(t){t.registerHelper("with",function(t,e){o.isFunction(t)&&(t=t.call(this));var i=e.fn;if(o.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&(n=o.createFrame(e.data),n.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:n,blockParams:o.blockParams([t],[n&&n.contextPath])})})},t.exports=e["default"]},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){a["default"](t)}e.__esModule=!0,e.registerDefaultDecorators=n;var s=i(27),a=o(s)},function(t,e,i){"use strict";e.__esModule=!0;var o=i(16);e["default"]=function(t){t.registerDecorator("inline",function(t,e,i,n){var s=t;return e.partials||(e.partials={},s=function(n,s){var a=i.partials;i.partials=o.extend({},a,e.partials);var r=t(n,s);return i.partials=a,r}),e.partials[n.args[0]]=n.fn,s})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var o=i(16),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=o.indexOf(n.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=n.lookupLevel(t),"undefined"!=typeof console&&n.lookupLevel(n.level)<=t){var e=n.methodMap[t];console[e]||(e="log");for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];console[e].apply(console,o)}}};e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e["default"]=i,t.exports=e["default"];
},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function s(t){var e=t&&t[0]||1,i=b.COMPILER_REVISION;if(e!==i){if(e<i){var o=b.REVISION_CHANGES[i],n=b.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+o+") or downgrade your runtime to an older version ("+n+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function a(t,e){function i(i,o,n){n.hash&&(o=f.extend({},o,n.hash),n.ids&&(n.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,o,n);var s=e.VM.invokePartial.call(this,i,o,n);if(null==s&&e.compile&&(n.partials[n.name]=e.compile(i,t.compilerOptions,e),s=n.partials[n.name](o,n)),null!=s){if(n.indent){for(var a=s.split("\n"),r=0,l=a.length;r<l&&(a[r]||r+1!==l);r++)a[r]=n.indent+a[r];s=a.join("\n")}return s}throw new m["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode")}function o(e){function i(e){return""+t.main(n,e,n.helpers,n.partials,a,l,r)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s.data;o._setup(s),!s.partial&&t.useData&&(a=h(e,a));var r=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(r=s.depths?e!==s.depths[0]?[e].concat(s.depths):s.depths:[e]),(i=p(t.main,i,n,s.depths||[],a,l))(e,s)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,o=0;o<i;o++)if(t[o]&&null!=t[o][e])return t[o][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:i,fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,o,n){var s=this.programs[t],a=this.fn(t);return e||n||o||i?s=r(this,t,a,e,i,o,n):s||(s=this.programs[t]=r(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=f.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return o.isTop=!0,o._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,e.helpers),t.usePartial&&(n.partials=n.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(n.decorators=n.merge(i.decorators,e.decorators)))},o._child=function(e,i,o,s){if(t.useBlockParams&&!o)throw new m["default"]("must pass block params");if(t.useDepths&&!s)throw new m["default"]("must pass parent depths");return r(n,e,t[e],i,0,o,s)},o}function r(t,e,i,o,n,s,a){function r(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=a;return a&&e!==a[0]&&(r=[e].concat(a)),i(t,e,t.helpers,t.partials,n.data||o,s&&[n.blockParams].concat(s),r)}return r=p(i,r,t,a,o,s),r.program=e,r.depth=a?a.length:0,r.blockParams=n||0,r}function l(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function c(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var o=void 0;if(i.fn&&i.fn!==d&&(i.data=b.createFrame(i.data),o=i.data["partial-block"]=i.fn,o.partials&&(i.partials=f.extend({},i.partials,o.partials))),void 0===t&&o&&(t=o),void 0===t)throw new m["default"]("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)}function d(){return""}function h(t,e){return e&&"root"in e||(e=e?b.createFrame(e):{},e.root=t),e}function p(t,e,i,o,n,s){if(t.decorator){var a={};e=t.decorator(e,a,i,o&&o[0],n,s,o),f.extend(e,a)}return e}e.__esModule=!0,e.checkRevision=s,e.template=a,e.wrapProgram=r,e.resolvePartial=l,e.invokePartial=c,e.noop=d;var u=i(16),f=n(u),g=i(17),m=o(g),b=i(15)},function(t,e){(function(i){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof i?i:window,o=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=o),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,i){var o=i(13);t.exports=(o["default"]||o).template({1:function(t,e,i,o,n,s,a){var r,l=null!=e?e:{},c=i.helperMissing,d="function",h=t.escapeExpression;return'            <div class="btn-group" role="group">\r\n                <button class="btn btn-default" data-action="'+h((r=null!=(r=i.action||(null!=e?e.action:e))?r:c,typeof r===d?r.call(l,{name:"action",hash:{},data:n}):r))+'" data-rid="'+h(t.lambda(null!=a[1]?a[1].rid:a[1],e))+'"> '+h((r=null!=(r=i.label||(null!=e?e.label:e))?r:c,typeof r===d?r.call(l,{name:"label",hash:{},data:n}):r))+" </button>\r\n            </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,o,n,s,a){var r;return'<div data-role="actions">\r\n\r\n    <div class="btn-group btn-group-justified" role="group">\r\n'+(null!=(r=i.each.call(null!=e?e:{},null!=e?e.actions:e,{name:"each",hash:{},fn:t.program(1,n,0,s,a),inverse:t.noop,data:n}))?r:"")+"\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0})},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e,i){var o,n;o=[i(5),i(36)],n=function(t){"use strict";function e(e){this.$el=t(e.el),this.excludedItems=e.exclude||[],this.$el.length<1&&alert("Impossible to find menu container"),e.model||alert("Impossible to find menu model");var i=t("<ul class='dropdown-menu json-menu'></ul>"),o=this._buildData(e.model);this._buildUL(i,o),this.$el.append(i),this._addBootstrapClass()}return e.prototype._buildData=function(t){for(var e,i=[],o=[],n=0;n<t.length;n++){e=t[n];var s=e.label,a=e.parent_id,r=e.id,l=e.url,c=e.action,d=e.a_attrs;o[a]?(e={parentid:a,label:s,url:l,item:e,action:c,a_attrs:d},o[a].items||(o[a].items=[]),o[a].items[o[a].items.length]=e,o[r]=e):(o[r]={id:r,parentid:a,label:s,url:l,item:e,action:c,a_attrs:d},i.push(o[r]))}return i},e.prototype._buildUL=function(e,i){var o=this;t.each(i,t.proxy(function(i,n){if(n&&t.inArray(n.id,o.excludedItems)<0&&n.label){var s=t("<li class='js-menu'><a>"+n.label+"</a></li>");if(""!==n.url&&s.find("a").attr("href",n.url),n.a_attrs)for(var a in n.a_attrs)n.a_attrs.hasOwnProperty(a)&&s.find("a").attr(a,n.a_attrs[a]);if(e.append(s),n.items&&n.items.length>0){var r=t("<ul class='dropdown-menu js-menu'></ul>");s.append(r),this._buildUL(r,n.items)}}},this))},e.prototype._addBootstrapClass=function(){this.$el.find(".json-menu>li:has(ul.js-menu)").addClass("dropdown-submenu"),this.$el.find(".json-menu>li>ul.js-menu>li:has(> ul.js-menu)")&&this.$el.find(".json-menu>li>ul.js-menu li ").addClass("dropdown-submenu"),this.$el.find("ul.js-menu").find("li:not(:has(> ul.js-menu))").removeClass("dropdown-submenu")},e.prototype.showItem=function(t){var e=this.$el.find("[data-id='"+t+"']");e.removeClass("hidden")},e.prototype.hideItem=function(t){var e=this.$el.find("[data-id='"+t+"']");e.addClass("hidden")},e.prototype.disableItem=function(t){var e=this.$el.find("[data-selector='"+t+"']").parent();e.addClass("disabled")},e.prototype.enableItem=function(t){var e=this.$el.find("[data-selector='"+t+"']").parent();e.removeClass("disabled")},e}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e){t.exports=n},function(t,e){t.exports=s},function(t,e){t.exports=a},function(t,e){t.exports=r},function(t,e){t.exports=l},function(t,e,i){var o=i(5);i(5);!function(t){"use strict";var e=null,i=function(t){var e=arguments,i=!0,o=1;return t=t.replace(/%s/g,function(){var t=e[o++];return"undefined"==typeof t?(i=!1,""):t}),i?t:""},o=function(e,i,o,n){var s="";return t.each(e,function(t,e){return e[i]!==n||(s=e[o],!1)}),s},n=function(e,i){var o=-1;return t.each(e,function(t,e){return e.field!==i||(o=t,!1)}),o},s=function(e){var i,o,n,s=0,a=[];for(i=0;i<e[0].length;i++)s+=e[0][i].colspan||1;for(i=0;i<e.length;i++)for(a[i]=[],o=0;o<s;o++)a[i][o]=!1;for(i=0;i<e.length;i++)for(o=0;o<e[i].length;o++){var r=e[i][o],l=r.rowspan||1,c=r.colspan||1,d=t.inArray(!1,a[i]);for(1===c&&(r.fieldIndex=d,"undefined"==typeof r.field&&(r.field=d)),n=0;n<l;n++)a[i+n][d]=!0;for(n=0;n<c;n++)a[i][d+n]=!0}},a=function(){if(null===e){var i,o,n=t("<p/>").addClass("fixed-table-scroll-inner"),s=t("<div/>").addClass("fixed-table-scroll-outer");s.append(n),t("body").append(s),i=n[0].offsetWidth,s.css("overflow","scroll"),o=n[0].offsetWidth,i===o&&(o=s[0].clientWidth),s.remove(),e=i-o}return e},r=function(e,o,n,s){var a=o;if("string"==typeof o){var r=o.split(".");r.length>1?(a=window,t.each(r,function(t,e){a=a[e]})):a=window[o]}return"object"==typeof a?a:"function"==typeof a?a.apply(e,n):!a&&"string"==typeof o&&i.apply(this,[o].concat(n))?i.apply(this,[o].concat(n)):s},l=function(e,i,o){var n=Object.getOwnPropertyNames(e),s=Object.getOwnPropertyNames(i),a="";if(o&&n.length!==s.length)return!1;for(var r=0;r<n.length;r++)if(a=n[r],t.inArray(a,s)>-1&&e[a]!==i[a])return!1;return!0},c=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):t},d=function(e){var i=0;return e.children().each(function(){i<t(this).outerHeight(!0)&&(i=t(this).outerHeight(!0))}),i},h=function(t){for(var e in t){var i=e.split(/(?=[A-Z])/).join("-").toLowerCase();i!==e&&(t[i]=t[e],delete t[e])}return t},p=function(t,e,i){var o=t;if("string"!=typeof e||t.hasOwnProperty(e))return i?c(t[e]):t[e];var n=e.split(".");for(var s in n)o=o&&o[n[s]];return i?c(o):o},u=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},f=function(e,i){this.options=i,this.$el=t(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};f.DEFAULTS={classes:"table table-hover",locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",striped:!1,columns:[[]],data:[],dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},pagination:!1,onlyInfoPagination:!1,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(t,e){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},rowStyle:function(t,e){return{}},rowAttributes:function(t,e){return{}},onAll:function(t,e){return!1},onClickCell:function(t,e,i,o){return!1},onDblClickCell:function(t,e,i,o){return!1},onClickRow:function(t,e){return!1},onDblClickRow:function(t,e){return!1},onSort:function(t,e){return!1},onCheck:function(t){return!1},onUncheck:function(t){return!1},onCheckAll:function(t){return!1},onUncheckAll:function(t){return!1},onCheckSome:function(t){return!1},onUncheckSome:function(t){return!1},onLoadSuccess:function(t){return!1},onLoadError:function(t){return!1},onColumnSwitch:function(t,e){return!1},onPageChange:function(t,e){return!1},onSearch:function(t){return!1},onToggle:function(t){return!1},onPreBody:function(t){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(t,e,i){return!1},onCollapseRow:function(t,e){return!1},onRefreshOptions:function(t){return!1},onResetView:function(){return!1}},f.LOCALES=[],f.LOCALES["en-US"]=f.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(t){return i("%s records per page",t)},formatShowingRows:function(t,e,o){return i("Showing %s to %s of %s rows",t,e,o)},formatDetailPagination:function(t){return i("Showing %s rows",t)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},t.extend(f.DEFAULTS,f.LOCALES["en-US"]),f.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,"class":void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0},f.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView"},f.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},f.prototype.initLocale=function(){if(this.options.locale){var e=this.options.locale.split(/-|_/);e[0].toLowerCase(),e[1]&&e[1].toUpperCase(),t.fn.bootstrapTable.locales[this.options.locale]?t.extend(this.options,t.fn.bootstrapTable.locales[this.options.locale]):t.fn.bootstrapTable.locales[e.join("-")]?t.extend(this.options,t.fn.bootstrapTable.locales[e.join("-")]):t.fn.bootstrapTable.locales[e[0]]&&t.extend(this.options,t.fn.bootstrapTable.locales[e[0]])}},f.prototype.initContainer=function(){this.$container=t(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),t.inArray("table-no-bordered",this.options.classes.split(" "))!==-1&&this.$tableContainer.addClass("table-no-bordered")},f.prototype.initTable=function(){var e=this,i=[],o=[];this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=t("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var e=[];t(this).find("th").each(function(){e.push(t.extend({},{title:t(this).html(),"class":t(this).attr("class"),titleTooltip:t(this).attr("title"),rowspan:t(this).attr("rowspan")?+t(this).attr("rowspan"):void 0,colspan:t(this).attr("colspan")?+t(this).attr("colspan"):void 0},t(this).data()))}),i.push(e)}),t.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=t.extend(!0,[],i,this.options.columns),this.columns=[],s(this.options.columns),t.each(this.options.columns,function(i,o){t.each(o,function(o,n){n=t.extend({},f.COLUMN_DEFAULTS,n),"undefined"!=typeof n.fieldIndex&&(e.columns[n.fieldIndex]=n),e.options.columns[i][o]=n})}),this.options.data.length||(this.$el.find(">tbody>tr").each(function(){var i={};i._id=t(this).attr("id"),i._class=t(this).attr("class"),i._data=h(t(this).data()),t(this).find("td").each(function(o){var n=e.columns[o].field;i[n]=t(this).html(),i["_"+n+"_id"]=t(this).attr("id"),i["_"+n+"_class"]=t(this).attr("class"),i["_"+n+"_rowspan"]=t(this).attr("rowspan"),i["_"+n+"_title"]=t(this).attr("title"),i["_"+n+"_data"]=h(t(this).data())}),o.push(i)}),this.options.data=o)},f.prototype.initHeader=function(){var e=this,o={},n=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},t.each(this.options.columns,function(s,a){n.push("<tr>"),0==s&&!e.options.cardView&&e.options.detailView&&n.push(i('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',e.options.columns.length)),t.each(a,function(t,s){var a="",r="",l="",c="",d=i(' class="%s"',s["class"]),h=(e.options.sortOrder||s.order,"px"),p=s.width;if(void 0===s.width||e.options.cardView||"string"==typeof s.width&&s.width.indexOf("%")!==-1&&(h="%"),s.width&&"string"==typeof s.width&&(p=s.width.replace("%","").replace("px","")),r=i("text-align: %s; ",s.halign?s.halign:s.align),l=i("text-align: %s; ",s.align),c=i("vertical-align: %s; ",s.valign),c+=i("width: %s; ",!s.checkbox&&!s.radio||p?p?p+h:void 0:"36px"),"undefined"!=typeof s.fieldIndex){if(e.header.fields[s.fieldIndex]=s.field,e.header.styles[s.fieldIndex]=l+c,e.header.classes[s.fieldIndex]=d,e.header.formatters[s.fieldIndex]=s.formatter,e.header.events[s.fieldIndex]=s.events,e.header.sorters[s.fieldIndex]=s.sorter,e.header.sortNames[s.fieldIndex]=s.sortName,e.header.cellStyles[s.fieldIndex]=s.cellStyle,e.header.searchables[s.fieldIndex]=s.searchable,!s.visible)return;if(e.options.cardView&&!s.cardVisible)return;o[s.field]=s}n.push("<th"+i(' title="%s"',s.titleTooltip),s.checkbox||s.radio?i(' class="bs-checkbox %s"',s["class"]||""):d,i(' style="%s"',r+c),i(' rowspan="%s"',s.rowspan),i(' colspan="%s"',s.colspan),i(' data-field="%s"',s.field),"tabindex='0'",">"),n.push(i('<div class="th-inner %s">',e.options.sortable&&s.sortable?"sortable both":"")),a=s.title,s.checkbox&&(!e.options.singleSelect&&e.options.checkboxHeader&&(a='<input name="btSelectAll" type="checkbox" />'),e.header.stateField=s.field),s.radio&&(a="",e.header.stateField=s.field,e.options.singleSelect=!0),n.push(a),n.push("</div>"),n.push('<div class="fht-cell"></div>'),n.push("</div>"),n.push("</th>")}),n.push("</tr>")}),this.$header.html(n.join("")),this.$header.find("th[data-field]").each(function(e){t(this).data(o[t(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(i){var o=t(this);return o.closest(".bootstrap-table")[0]===e.$container[0]&&void(e.options.sortable&&o.parent().data().sortable&&e.onSort(i))}),this.$header.children().children().off("keypress").on("keypress",function(i){if(e.options.sortable&&t(this).data().sortable){var o=i.keyCode||i.which;13==o&&e.onSort(i)}}),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret()),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(){var i=t(this).prop("checked");e[i?"checkAll":"uncheckAll"](),e.updateSelected()})},f.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},f.prototype.initData=function(t,e){"append"===e?this.data=this.data.concat(t):"prepend"===e?this.data=[].concat(t).concat(this.data):this.data=t||this.options.data,"append"===e?this.options.data=this.options.data.concat(t):"prepend"===e?this.options.data=[].concat(t).concat(this.options.data):this.options.data=this.data,"server"!==this.options.sidePagination&&this.initSort()},f.prototype.initSort=function(){var e=this,i=this.options.sortName,o="desc"===this.options.sortOrder?-1:1,n=t.inArray(this.options.sortName,this.header.fields);n!==-1&&this.data.sort(function(s,a){e.header.sortNames[n]&&(i=e.header.sortNames[n]);var l=p(s,i,e.options.escape),c=p(a,i,e.options.escape),d=r(e.header,e.header.sorters[n],[l,c]);return void 0!==d?o*d:(void 0!==l&&null!==l||(l=""),void 0!==c&&null!==c||(c=""),t.isNumeric(l)&&t.isNumeric(c)?(l=parseFloat(l),c=parseFloat(c),l<c?o*-1:o):l===c?0:("string"!=typeof l&&(l=l.toString()),l.localeCompare(c)===-1?o*-1:o))})},f.prototype.onSort=function(e){var i="keypress"===e.type?t(e.currentTarget):t(e.currentTarget).parent(),o=this.$header.find("th").eq(i.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=i.data("field"),this.options.sortOrder="asc"===i.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(o).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},f.prototype.initToolbar=function(){var e,o,s=this,a=[],l=0,c=0;this.$toolbar.find(".bars").children().length&&t("body").append(t(this.options.toolbar)),this.$toolbar.html(""),"string"!=typeof this.options.toolbar&&"object"!=typeof this.options.toolbar||t(i('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(t(this.options.toolbar)),a=[i('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=r(null,this.options.icons)),this.options.showPaginationSwitch&&a.push(i('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&a.push(i('<button class="btn btn-default'+i(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&a.push(i('<button class="btn btn-default'+i(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(a.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),t.each(this.columns,function(t,e){if(!e.radio&&!e.checkbox&&(!s.options.cardView||e.cardVisible)){var o=e.visible?' checked="checked"':"";e.switchable&&(a.push(i('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',e.field,t,o,e.title)),c++)}}),a.push("</ul>","</div>")),a.push("</div>"),(this.showToolbar||a.length>2)&&this.$toolbar.append(a.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",t.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",t.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){s.toggleView()}),this.options.showColumns&&(e=this.$toolbar.find(".keep-open"),c<=this.options.minimumCountColumns&&e.find("input").prop("disabled",!0),e.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()}),e.find("input").off("click").on("click",function(){var e=t(this);s.toggleColumn(n(s.columns,t(this).data("field")),e.prop("checked"),!1),s.trigger("column-switch",t(this).data("field"),e.prop("checked"))})),this.options.search&&(a=[],a.push('<div class="pull-'+this.options.searchAlign+' search">',i('<input class="form-control'+i(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(a.join("")),o=this.$toolbar.find(".search input"),o.off("keyup drop").on("keyup drop",function(t){s.options.searchOnEnterKey&&13!==t.keyCode||(clearTimeout(l),l=setTimeout(function(){s.onSearch(t)},s.options.searchTimeOut))}),u()&&o.off("mouseup").on("mouseup",function(t){clearTimeout(l),l=setTimeout(function(){s.onSearch(t)},s.options.searchTimeOut)}))},f.prototype.onSearch=function(e){var i=t.trim(t(e.currentTarget).val());this.options.trimOnSearch&&t(e.currentTarget).val()!==i&&t(e.currentTarget).val(i),i!==this.searchText&&(this.searchText=i,this.options.searchText=i,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",i))},f.prototype.initSearch=function(){var e=this;if("server"!==this.options.sidePagination){var i=this.searchText&&this.searchText.toLowerCase(),o=t.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=o?t.grep(this.options.data,function(e,i){for(var n in o)if(t.isArray(o[n])){if(t.inArray(e[n],o[n])===-1)return!1}else if(e[n]!==o[n])return!1;return!0}):this.options.data,this.data=i?t.grep(this.data,function(o,s){for(var a in o){a=t.isNumeric(a)?parseInt(a,10):a;var l=o[a],c=e.columns[n(e.columns,a)],d=t.inArray(a,e.header.fields);c&&c.searchFormatter&&(l=r(c,e.header.formatters[d],[l,o,s],l));var h=t.inArray(a,e.header.fields);if(h!==-1&&e.header.searchables[h]&&("string"==typeof l||"number"==typeof l))if(e.options.strictSearch){if((l+"").toLowerCase()===i)return!0}else if((l+"").toLowerCase().indexOf(i)!==-1)return!0}return!1}):this.data}},f.prototype.initPagination=function(){if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var e,o,n,s,a,r,l,c,d,h=this,p=[],u=!1,f=this.getData();if("server"!==this.options.sidePagination&&(this.options.totalRows=f.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,u=!0;else if(this.options.pageSize===this.options.totalRows){var g="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;t.inArray(this.options.formatAllRows().toLowerCase(),g)>-1&&(u=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),p.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){p.push('<span class="page-list">');var m=[i('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn btn-default '+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',u?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],b=this.options.pageList;if("string"==typeof this.options.pageList){var v=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");b=[],t.each(v,function(t,e){b.push(e.toUpperCase()===h.options.formatAllRows().toUpperCase()?h.options.formatAllRows():+e)})}for(t.each(b,function(t,e){if(!h.options.smartDisplay||0===t||b[t-1]<=h.options.totalRows){var o;o=u?e===h.options.formatAllRows()?' class="active"':"":e===h.options.pageSize?' class="active"':"",m.push(i('<li%s><a href="javascript:void(0)">%s</a></li>',o,e))}}),m.push("</ul></span>"),p.push(this.options.formatRecordsPerPage(m.join(""))),p.push("</span>"),p.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+i(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(o=1,n=this.totalPages):(o=this.options.pageNumber-2,n=o+4,o<1&&(o=1,n=5),n>this.totalPages&&(n=this.totalPages,o=n-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(p.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',1,"</a>","</li>"),o++),this.options.pageNumber>=4&&(4==this.options.pageNumber||6==this.totalPages||7==this.totalPages?o--:p.push('<li class="page-first-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),n--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&o--,6==this.totalPages?this.options.pageNumber>=this.totalPages-2&&n++:this.totalPages>=7&&(7==this.totalPages||this.options.pageNumber>=this.totalPages-3)&&n++,e=o;e<=n;e++)p.push('<li class="page-number'+(e===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',e,"</a>","</li>");this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&p.push('<li class="page-last-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&p.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',this.totalPages,"</a>","</li>"),p.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(p.join("")),this.options.onlyInfoPagination||(s=this.$pagination.find(".page-list a"),a=this.$pagination.find(".page-first"),r=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),c=this.$pagination.find(".page-last"),
d=this.$pagination.find(".page-number"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(b.length<2||this.options.totalRows<=b[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),u&&(this.options.pageSize=this.options.formatAllRows()),s.off("click").on("click",t.proxy(this.onPageListChange,this)),a.off("click").on("click",t.proxy(this.onPageFirst,this)),r.off("click").on("click",t.proxy(this.onPagePre,this)),l.off("click").on("click",t.proxy(this.onPageNext,this)),c.off("click").on("click",t.proxy(this.onPageLast,this)),d.off("click").on("click",t.proxy(this.onPageNumber,this)))},f.prototype.updatePagination=function(e){e&&t(e.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},f.prototype.onPageListChange=function(e){var i=t(e.currentTarget);i.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(e)},f.prototype.onPageFirst=function(t){this.options.pageNumber=1,this.updatePagination(t)},f.prototype.onPagePre=function(t){this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(t)},f.prototype.onPageNext=function(t){this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(t)},f.prototype.onPageLast=function(t){this.options.pageNumber=this.totalPages,this.updatePagination(t)},f.prototype.onPageNumber=function(e){this.options.pageNumber!==+t(e.currentTarget).text()&&(this.options.pageNumber=+t(e.currentTarget).text(),this.updatePagination(e))},f.prototype.initBody=function(e){var s=this,a=[],l=this.getData();this.trigger("pre-body",l),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=t("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=l.length);for(var d=this.pageFrom-1;d<this.pageTo;d++){var h,u=l[d],f={},g=[],m="",b={},v=[];if(f=r(this.options,this.options.rowStyle,[u,d],f),f&&f.css)for(h in f.css)g.push(h+": "+f.css[h]);if(b=r(this.options,this.options.rowAttributes,[u,d],b))for(h in b)v.push(i('%s="%s"',h,c(b[h])));u._data&&!t.isEmptyObject(u._data)&&t.each(u._data,function(t,e){"index"!==t&&(m+=i(' data-%s="%s"',t,e))}),a.push("<tr",i(" %s",v.join(" ")),i(' id="%s"',t.isArray(u)?void 0:u._id),i(' class="%s"',f.classes||(t.isArray(u)?void 0:u._class)),i(' data-index="%s"',d),i(' data-uniqueid="%s"',u[this.options.uniqueId]),i("%s",m),">"),this.options.cardView&&a.push(i('<td colspan="%s">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&a.push("<td>",'<a class="detail-icon" href="javascript:">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>"),t.each(this.header.fields,function(e,l){var c="",h=p(u,l,s.options.escape),m="",b={},v="",y=s.header.classes[e],w="",_="",x="",S=s.columns[n(s.columns,l)];if(S.visible){if(f=i('style="%s"',g.concat(s.header.styles[e]).join("; ")),h=r(S,s.header.formatters[e],[h,u,d],h),u["_"+l+"_id"]&&(v=i(' id="%s"',u["_"+l+"_id"])),u["_"+l+"_class"]&&(y=i(' class="%s"',u["_"+l+"_class"])),u["_"+l+"_rowspan"]&&(_=i(' rowspan="%s"',u["_"+l+"_rowspan"])),u["_"+l+"_title"]&&(x=i(' title="%s"',u["_"+l+"_title"])),b=r(s.header,s.header.cellStyles[e],[h,u,d],b),b.classes&&(y=i(' class="%s"',b.classes)),b.css){var P=[];for(var k in b.css)P.push(k+": "+b.css[k]);f=i('style="%s"',P.concat(s.header.styles[e]).join("; "))}u["_"+l+"_data"]&&!t.isEmptyObject(u["_"+l+"_data"])&&t.each(u["_"+l+"_data"],function(t,e){"index"!==t&&(w+=i(' data-%s="%s"',t,e))}),S.checkbox||S.radio?(m=S.checkbox?"checkbox":m,m=S.radio?"radio":m,c=[i(s.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',S["class"]||""),"<input"+i(' data-index="%s"',d)+i(' name="%s"',s.options.selectItemName)+i(' type="%s"',m)+i(' value="%s"',u[s.options.idField])+i(' checked="%s"',h===!0||h&&h.checked?"checked":void 0)+i(' disabled="%s"',!S.checkboxEnabled||h&&h.disabled?"disabled":void 0)+" />",s.header.formatters[e]&&"string"==typeof h?h:"",s.options.cardView?"</div>":"</td>"].join(""),u[s.header.stateField]=h===!0||h&&h.checked):(h="undefined"==typeof h||null===h?s.options.undefinedText:h,c=s.options.cardView?['<div class="card-view">',s.options.showHeader?i('<span class="title" %s>%s</span>',f,o(s.columns,"field","title",l)):"",i('<span class="value">%s</span>',h),"</div>"].join(""):[i("<td%s %s %s %s %s %s>",v,y,f,w,_,x),h,"</td>"].join(""),s.options.cardView&&s.options.smartDisplay&&""===h&&(c='<div class="card-view"></div>')),a.push(c)}}),this.options.cardView&&a.push("</td>"),a.push("</tr>")}a.length||a.push('<tr class="no-records-found">',i('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>"),this.$body.html(a.join("")),e||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(e){var o=t(this),a=o.parent(),r=s.data[a.data("index")],l=o[0].cellIndex,c=s.header.fields[s.options.detailView&&!s.options.cardView?l-1:l],d=s.columns[n(s.columns,c)],h=p(r,c,s.options.escape);if(!o.find(".detail-icon").length&&(s.trigger("click"===e.type?"click-cell":"dbl-click-cell",c,h,r,o),s.trigger("click"===e.type?"click-row":"dbl-click-row",r,a),"click"===e.type&&s.options.clickToSelect&&d.clickToSelect)){var u=a.find(i('[name="%s"]',s.options.selectItemName));u.length&&u[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var e=t(this),o=e.parent().parent(),n=o.data("index"),a=l[n];if(o.next().is("tr.detail-view"))e.find("i").attr("class",i("%s %s",s.options.iconsPrefix,s.options.icons.detailOpen)),o.next().remove(),s.trigger("collapse-row",n,a);else{e.find("i").attr("class",i("%s %s",s.options.iconsPrefix,s.options.icons.detailClose)),o.after(i('<tr class="detail-view"><td colspan="%s"></td></tr>',o.find("td").length));var c=o.next().find("td"),d=r(s.options,s.options.detailFormatter,[n,a,c],"");1===c.length&&c.append(d),s.trigger("expand-row",n,a,c)}s.resetView()}),this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(e){e.stopImmediatePropagation();var i=t(this),o=i.prop("checked"),n=s.data[i.data("index")];s.options.maintainSelected&&t(this).is(":radio")&&t.each(s.options.data,function(t,e){e[s.header.stateField]=!1}),n[s.header.stateField]=o,s.options.singleSelect&&(s.$selectItem.not(this).each(function(){s.data[t(this).data("index")][s.header.stateField]=!1}),s.$selectItem.filter(":checked").not(this).prop("checked",!1)),s.updateSelected(),s.trigger(o?"check":"uncheck",n,i)}),t.each(this.header.events,function(e,i){if(i){"string"==typeof i&&(i=r(null,i));var o=s.header.fields[e],n=t.inArray(o,s.getVisibleFields());s.options.detailView&&!s.options.cardView&&(n+=1);for(var a in i)s.$body.find(">tr:not(.no-records-found)").each(function(){var e=t(this),r=e.find(s.options.cardView?".card-view":"td").eq(n),l=a.indexOf(" "),c=a.substring(0,l),d=a.substring(l+1),h=i[a];r.find(d).off(c).on(c,function(t){var i=e.data("index"),n=s.data[i],a=n[o];h.apply(this,[t,a,n,i])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body")},f.prototype.initServer=function(e,i){var o,n=this,s={},a={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.options.pagination&&(a.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,a.pageNumber=this.options.pageNumber),(this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(a={search:a.searchText,sort:a.sortName,order:a.sortOrder},this.options.pagination&&(a.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,a.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1))),t.isEmptyObject(this.filterColumnsPartial)||(a.filter=JSON.stringify(this.filterColumnsPartial,null)),s=r(this.options,this.options.queryParams,[a],s),t.extend(s,i||{}),s!==!1&&(e||this.$tableLoading.show(),o=t.extend({},r(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(s):s,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t){t=r(n.options,n.options.responseHandler,[t],t),n.load(t),n.trigger("load-success",t),e||n.$tableLoading.hide()},error:function(t){n.trigger("load-error",t.status,t),e||n.$tableLoading.hide()}}),this.options.ajax?r(this,this.options.ajax,[o],null):t.ajax(o)))},f.prototype.initSearchText=function(){if(this.options.search&&""!==this.options.searchText){var t=this.$toolbar.find(".search input");t.val(this.options.searchText),this.onSearch({currentTarget:t})}},f.prototype.getCaret=function(){var e=this;t.each(this.$header.find("th"),function(i,o){t(o).find(".sortable").removeClass("desc asc").addClass(t(o).data("field")===e.options.sortName?e.options.sortOrder:"both")})},f.prototype.updateSelected=function(){var e=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.each(function(){t(this).closest("tr")[t(this).prop("checked")?"addClass":"removeClass"]("selected")})},f.prototype.updateRows=function(){var e=this;this.$selectItem.each(function(){e.data[t(this).data("index")][e.header.stateField]=t(this).prop("checked")})},f.prototype.resetRows=function(){var e=this;t.each(this.data,function(t,i){e.$selectAll.prop("checked",!1),e.$selectItem.prop("checked",!1),e.header.stateField&&(i[e.header.stateField]=!1)})},f.prototype.trigger=function(e){var i=Array.prototype.slice.call(arguments,1);e+=".bs.table",this.options[f.EVENTS[e]].apply(this.options,i),this.$el.trigger(t.Event(e),i),this.options.onAll(e,i),this.$el.trigger(t.Event("all.bs.table"),[e,i])},f.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(t.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},f.prototype.fitHeader=function(){var e,o,n,s,r=this;if(r.$el.is(":hidden"))return void(r.timeoutId_=setTimeout(t.proxy(r.fitHeader,r),100));if(e=this.$tableBody.get(0),o=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?a():0,this.$el.css("margin-top",-this.$header.outerHeight()),n=t(":focus"),n.length>0){var l=n.parents("th");if(l.length>0){var c=l.attr("data-field");if(void 0!==c){var d=this.$header.find("[data-field='"+c+"']");d.length>0&&d.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":o}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),s=t(".focus-temp:visible:eq(0)"),s.length>0&&(s.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(e){r.$header_.find(i('th[data-field="%s"]',t(this).data("field"))).data(t(this).data())});var h=this.getVisibleFields();this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(e){var o=t(this),n=e;r.options.detailView&&!r.options.cardView&&(0===e&&r.$header_.find("th.detail").find(".fht-cell").width(o.innerWidth()),n=e-1),r.$header_.find(i('th[data-field="%s"]',h[n])).find(".fht-cell").width(o.innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){r.$tableHeader.scrollLeft(t(this).scrollLeft()),r.options.showFooter&&!r.options.cardView&&r.$tableFooter.scrollLeft(t(this).scrollLeft())}),r.trigger("post-header")},f.prototype.resetFooter=function(){var e=this,o=e.getData(),n=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&n.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),t.each(this.columns,function(t,s){var a="",l="",c=i(' class="%s"',s["class"]);s.visible&&(e.options.cardView&&!s.cardVisible||(a=i("text-align: %s; ",s.falign?s.falign:s.align),l=i("vertical-align: %s; ",s.valign),n.push("<td",c,i(' style="%s"',a+l),">"),n.push('<div class="th-inner">'),n.push(r(s,s.footerFormatter,[o],"&nbsp;")||"&nbsp;"),n.push("</div>"),n.push('<div class="fht-cell"></div>'),n.push("</div>"),n.push("</td>")))}),this.$tableFooter.find("tr").html(n.join("")),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},f.prototype.fitFooter=function(){var e,i,o;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),100)):(i=this.$el.css("width"),o=i>this.$tableBody.width()?a():0,this.$tableFooter.css({"margin-right":o}).find("table").css("width",i).attr("class",this.$el.attr("class")),e=this.$tableFooter.find("td"),void this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(i){var o=t(this);e.eq(i).find(".fht-cell").width(o.innerWidth())}))},f.prototype.toggleColumn=function(t,e,o){if(t!==-1&&(this.columns[t].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var n=this.$toolbar.find(".keep-open input").prop("disabled",!1);o&&n.filter(i('[value="%s"]',t)).prop("checked",e),n.filter(":checked").length<=this.options.minimumCountColumns&&n.filter(":checked").prop("disabled",!0)}},f.prototype.toggleRow=function(t,e,o){t!==-1&&this.$body.find("undefined"!=typeof t?i('tr[data-index="%s"]',t):i('tr[data-uniqueid="%s"]',e))[o?"show":"hide"]()},f.prototype.getVisibleFields=function(){var e=this,i=[];return t.each(this.header.fields,function(t,o){var s=e.columns[n(e.columns,o)];s.visible&&i.push(o)}),i},f.prototype.resetView=function(t){var e=0;if(t&&t.height&&(this.options.height=t.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var i=d(this.$toolbar),o=d(this.$pagination),n=this.options.height-i-o;this.$tableContainer.css("height",n+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),void this.$tableContainer.css("padding-bottom","0")):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),e+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(e+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",e+"px"),void this.trigger("reset-view"))},f.prototype.getData=function(e){return!this.searchText&&t.isEmptyObject(this.filterColumns)&&t.isEmptyObject(this.filterColumnsPartial)?e?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:e?this.data.slice(this.pageFrom-1,this.pageTo):this.data},f.prototype.load=function(e){var i=!1;"server"===this.options.sidePagination?(this.options.totalRows=e.total,i=e.fixedScroll,e=e[this.options.dataField]):t.isArray(e)||(i=e.fixedScroll,e=e.data),this.initData(e),this.initSearch(),this.initPagination(),this.initBody(i)},f.prototype.append=function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},f.prototype.prepend=function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},f.prototype.remove=function(e){var i,o,n=this.options.data.length;if(e.hasOwnProperty("field")&&e.hasOwnProperty("values")){for(i=n-1;i>=0;i--)o=this.options.data[i],o.hasOwnProperty(e.field)&&t.inArray(o[e.field],e.values)!==-1&&this.options.data.splice(i,1);n!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},f.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.getRowByUniqueId=function(t){var e,i,o,n=this.options.uniqueId,s=this.options.data.length,a=null;for(e=s-1;e>=0;e--){if(i=this.options.data[e],i.hasOwnProperty(n))o=i[n];else{if(!i._data.hasOwnProperty(n))continue;o=i._data[n]}if("string"==typeof o?t=t.toString():"number"==typeof o&&(Number(o)===o&&o%1===0?t=parseInt(t):o===Number(o)&&0!==o&&(t=parseFloat(t))),o===t){a=i;break}}return a},f.prototype.removeByUniqueId=function(t){var e=this.options.data.length,i=this.getRowByUniqueId(t);i&&this.options.data.splice(this.options.data.indexOf(i),1),e!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.updateByUniqueId=function(e){var i;e.hasOwnProperty("id")&&e.hasOwnProperty("row")&&(i=t.inArray(this.getRowByUniqueId(e.id),this.options.data),i!==-1&&(t.extend(this.data[i],e.row),this.initSort(),this.initBody(!0)))},f.prototype.insertRow=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},f.prototype.updateRow=function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("row")&&(t.extend(this.data[e.index],e.row),this.initSort(),this.initBody(!0))},f.prototype.showRow=function(t){(t.hasOwnProperty("index")||t.hasOwnProperty("uniqueId"))&&this.toggleRow(t.index,t.uniqueId,!0)},f.prototype.hideRow=function(t){(t.hasOwnProperty("index")||t.hasOwnProperty("uniqueId"))&&this.toggleRow(t.index,t.uniqueId,!1)},f.prototype.getRowsHidden=function(e){var i=t(this.$body[0]).children().filter(":hidden"),o=0;if(e)for(;o<i.length;o++)t(i[o]).show();return i},f.prototype.mergeCells=function(e){var i,o,n,s=e.index,a=t.inArray(e.field,this.getVisibleFields()),r=e.rowspan||1,l=e.colspan||1,c=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(a+=1),n=c.eq(s).find(">td").eq(a),!(s<0||a<0||s>=this.data.length)){for(i=s;i<s+r;i++)for(o=a;o<a+l;o++)c.eq(i).find(">td").eq(o).hide();n.attr("rowspan",r).attr("colspan",l).show()}},f.prototype.updateCell=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.data[t.index][t.field]=t.value,t.reinit!==!1&&(this.initSort(),this.initBody(!0)))},f.prototype.getOptions=function(){return this.options},f.prototype.getSelections=function(){var e=this;return t.grep(this.data,function(t){return t[e.header.stateField]})},f.prototype.getAllSelections=function(){var e=this;return t.grep(this.options.data,function(t){return t[e.header.stateField]})},f.prototype.checkAll=function(){this.checkAll_(!0)},f.prototype.uncheckAll=function(){this.checkAll_(!1)},f.prototype.checkInvert=function(){var e=this,i=e.$selectItem.filter(":enabled"),o=i.filter(":checked");i.each(function(){t(this).prop("checked",!t(this).prop("checked"))}),e.updateRows(),e.updateSelected(),e.trigger("uncheck-some",o),o=e.getSelections(),e.trigger("check-some",o)},f.prototype.checkAll_=function(t){var e;t||(e=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),t&&(e=this.getSelections()),this.trigger(t?"check-all":"uncheck-all",e)},f.prototype.check=function(t){this.check_(!0,t)},f.prototype.uncheck=function(t){this.check_(!1,t)},f.prototype.check_=function(t,e){var o=this.$selectItem.filter(i('[data-index="%s"]',e)).prop("checked",t);this.data[e][this.header.stateField]=t,this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[e],o)},f.prototype.checkBy=function(t){this.checkBy_(!0,t)},f.prototype.uncheckBy=function(t){this.checkBy_(!1,t)},f.prototype.checkBy_=function(e,o){if(o.hasOwnProperty("field")&&o.hasOwnProperty("values")){var n=this,s=[];t.each(this.options.data,function(a,r){if(!r.hasOwnProperty(o.field))return!1;if(t.inArray(r[o.field],o.values)!==-1){var l=n.$selectItem.filter(":enabled").filter(i('[data-index="%s"]',a)).prop("checked",e);r[n.header.stateField]=e,s.push(r),n.trigger(e?"check":"uncheck",r,l)}}),this.updateSelected(),this.trigger(e?"check-some":"uncheck-some",s)}},f.prototype.destroy=function(){this.$el.insertBefore(this.$container),t(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},f.prototype.showLoading=function(){this.$tableLoading.show()},f.prototype.hideLoading=function(){this.$tableLoading.hide()},f.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var t=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},f.prototype.refresh=function(t){t&&t.url&&(this.options.url=t.url,this.options.pageNumber=1),this.initServer(t&&t.silent,t&&t.query)},f.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},f.prototype.showColumn=function(t){this.toggleColumn(n(this.columns,t),!0,!0)},f.prototype.hideColumn=function(t){this.toggleColumn(n(this.columns,t),!1,!0)},f.prototype.getHiddenColumns=function(){return t.grep(this.columns,function(t){return!t.visible})},f.prototype.filterBy=function(e){this.filterColumns=t.isEmptyObject(e)?{}:e,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},f.prototype.scrollTo=function(t){if("string"==typeof t&&(t="bottom"===t?this.$tableBody[0].scrollHeight:0),"number"==typeof t&&this.$tableBody.scrollTop(t),"undefined"==typeof t)return this.$tableBody.scrollTop()},f.prototype.getScrollPosition=function(){return this.scrollTo()},f.prototype.selectPage=function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())},f.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},f.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},f.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)},f.prototype.refreshOptions=function(e){l(this.options,e,!0)||(this.options=t.extend(this.options,e),this.trigger("refresh-options",this.options),this.destroy(),this.init())},f.prototype.resetSearch=function(t){var e=this.$toolbar.find(".search input");e.val(t||""),this.onSearch({currentTarget:e})},f.prototype.expandRow_=function(t,e){var o=this.$body.find(i('> tr[data-index="%s"]',e));o.next().is("tr.detail-view")===!t&&o.find("> td > .detail-icon").click()},f.prototype.expandRow=function(t){this.expandRow_(!0,t)},f.prototype.collapseRow=function(t){this.expandRow_(!1,t)},f.prototype.expandAllRows=function(e){if(e){var o=this.$body.find(i('> tr[data-index="%s"]',0)),n=this,s=null,a=!1,r=-1;if(o.next().is("tr.detail-view")?o.next().next().is("tr.detail-view")||(o.next().find(".detail-icon").click(),a=!0):(o.find("> td > .detail-icon").click(),a=!0),a)try{r=setInterval(function(){s=n.$body.find("tr.detail-view").last().find(".detail-icon"),s.length>0?s.click():clearInterval(r)},1)}catch(l){clearInterval(r)}}else for(var c=this.$body.children(),d=0;d<c.length;d++)this.expandRow_(!0,t(c[d]).data("index"))},f.prototype.collapseAllRows=function(e){if(e)this.expandRow_(!1,0);else for(var i=this.$body.children(),o=0;o<i.length;o++)this.expandRow_(!1,t(i[o]).data("index"))},f.prototype.updateFormatText=function(t,e){this.options[i("format%s",t)]&&("string"==typeof e?this.options[i("format%s",t)]=function(){return e}:"function"==typeof e&&(this.options[i("format%s",t)]=e)),this.initToolbar(),this.initPagination(),this.initBody()};var g=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];t.fn.bootstrapTable=function(e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),s=n.data("bootstrap.table"),a=t.extend({},f.DEFAULTS,n.data(),"object"==typeof e&&e);if("string"==typeof e){if(t.inArray(e,g)<0)throw new Error("Unknown method: "+e);if(!s)return;i=s[e].apply(s,o),"destroy"===e&&n.removeData("bootstrap.table")}s||n.data("bootstrap.table",s=new f(this,a))}),"undefined"==typeof i?this:i},t.fn.bootstrapTable.Constructor=f,t.fn.bootstrapTable.defaults=f.DEFAULTS,t.fn.bootstrapTable.columnDefaults=f.COLUMN_DEFAULTS,t.fn.bootstrapTable.locales=f.LOCALES,t.fn.bootstrapTable.methods=g,t.fn.bootstrapTable.utils={sprintf:i,getFieldIndex:n,compareObjects:l,calculateObjectValue:r},t(function(){t('[data-toggle="table"]').bootstrapTable()})}(o)}])});
//# sourceMappingURL=fenix-ui-catalog.min.js.map